!function(t){var e={};function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/build/plugins/",a(a.s=15)}({15:function(t,e,a){"use strict";a.r(e);let i=[],n=!1;function s(){i=[],n=!1}function r(t,e,a,r){let l=i.findIndex(t=>t.filter.name===e.name);if(-1!==l){let t=i[l];t.adjust=a,"Sharpness"===t.name?0===t.adjust[1]?t.postData=t.prevData:t.postData=A(t.prevData,t.adjust):"Invert"===t.name?(t.postData=o(t.postData,t.filter,t.adjust),n=!n):t.postData=o(t.prevData,t.filter,t.adjust);for(let t=l+1,e=i.length;t<e;t++){let a=i[t];if(("Invert"!==a.name||n)&&(a.prevData=i[t-1].postData,"Sharpness"===a.name?0===a.adjust[1]?a.postData=a.prevData:a.postData=A(a.prevData,a.adjust):a.postData=o(a.prevData,a.filter,a.adjust),t===e-1))return a.postData}return t.postData}{if("Threshold"===r||i[0]&&"Threshold"===i[0].name){s();let t=document.getElementsByClassName("manipulation-tools")[0];for(let e=0,a=t.children.length;e<a;e++){let a=t.children[e].children[0];if(a&&"range"===a.type){let t=a.parentElement.textContent.includes("Threshold"),e=a.parentElement.textContent.includes("Zoom"),i=a.parentElement.textContent.includes("Rotation");"Threshold"!==r||t||e||i?"Threshold"!==r&&t&&(a.value=0):a.value=0}}document.getElementById("filter-log").innerHTML="<h3> Filter Application Order <h3>"}i.push({filter:e,prevData:0===i.length?t:i[i.length-1].postData,adjust:a,name:r});let l=i[i.length-1];"Sharpness"===l.name?l.postData=A(l.prevData,l.adjust):l.postData=o(l.prevData,l.filter,l.adjust),"Invert"===l.name&&(n=!0);let d=document.createElement("p");return d.setAttribute("style","color: white; margin: 0;"),d.innerText=l.name,document.getElementById("filter-log").appendChild(d),l.postData}}function l(t,e){return document.createElement("canvas").getContext("2d").createImageData(t,e)}function o(t,e,a){let i=function(t,e,a){let i=t.length;for(let n=0;n<i;n+=4){let i=e(t[n],t[n+1],t[n+2],a);t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3]}return t}(new Uint8ClampedArray(t.data),e,a),n=l(t.width,t.height);return n.data.set(i),n}function d(t){return r(t,c,null,"Grayscale")}function c(t,e,a){let i=.3*t+.59*e+.11*a;return[i,i,i,255]}function h(t,e){return r(t,u,e,"Vibrance")}function u(t,e,a,i){let n=-1*i,s=Math.max(t,e,a),r=t+e+a/3,l=2*Math.abs(s-r)/255*n/100;return[t!==s?t+(s-t)*l:t,e!==s?e+(s-e)*l:e,a!==s?a+(s-a)*l:a,255]}function m(t,e){return r(t,p,e,"Brightness")}function p(t,e,a,i){let n=Math.floor(i/100*255);return[t+n,e+n,a+n,255]}function g(t,e){return r(t,v,e,"Contrast")}function v(t,e,a,i){let n=Math.pow((i+100)/100,2),s=t,r=e,l=a;return s/=255,s-=.5,s*=n,s+=.5,r/=255,r-=.5,r*=n,r+=.5,l/=255,l-=.5,l*=n,l+=.5,[s*=255,r*=255,l*=255,255]}function _(t){return r(t,f,null,"Invert")}function f(t,e,a){return[255-t,255-e,255-a,255]}function b(t,e){return r(t,E,e,"Threshold")}function E(t,e,a,i){let n=.2126*t+.7152*e+.0722*a>=i?255:0;return[n,n,n,255]}function C(t,e){return r(t,y,e,"Hue")}function y(t,e,a,i){let{h:n,s:s,v:r}=function(t,e,a){let i=t,n=e,s=a;i/=255,n/=255,s/=255;let r,l=Math.max(i,n,s),o=Math.min(i,n,s),d=l,c=l-o,h=0===l?0:c/l;if(l===o)r=0;else{switch(l){case i:r=(n-s)/c+(n<s?6:0);break;case n:r=(s-i)/c+2;break;case s:r=(i-n)/c+4}r/=6}return{h:r,s:h,v:d}}(t,e,a);n*=100,n+=Math.abs(i),n%=100;let l=function(t,e,a){let i,n,s,r,l,o,d,c;switch(r=Math.floor(6*t),l=a*(1-e),o=a*(1-(n=6*t-r)*e),c=a*(1-(1-n)*e),r%6){case 0:d=a,s=c,i=l;break;case 1:d=o,s=a,i=l;break;case 2:d=l,s=a,i=c;break;case 3:d=l,s=o,i=a;break;case 4:d=c,s=l,i=a;break;case 5:d=a,s=l,i=o}return{r:Math.floor(255*d),g:Math.floor(255*s),b:Math.floor(255*i)}}(n/=100,s,r);return[l.r,l.g,l.b,255]}function A(t,e,a){let i=Math.round(Math.sqrt(e.length)),n=Math.floor(i/2),s=t.data,r=t.width,o=t.height,d=r,c=o,h=l(d,c),u=h.data,m=a?1:0;for(let t=0;t<c;t++)for(let a=0;a<d;a++){let l=t,c=a,h=4*(t*d+a),p=0,g=0,v=0,_=0;for(let t=0;t<i;t++)for(let a=0;a<i;a++){let d=l+t-n,h=c+a-n;if(d>=0&&d<o&&h>=0&&h<r){let n=4*(d*r+h),l=e[t*i+a];p+=s[n]*l,g+=s[n+1]*l,v+=s[n+2]*l,_+=s[n+3]*l}}u[h]=p,u[h+1]=g,u[h+2]=v,u[h+3]=_+m*(255-_)}return h}function x(t,e){let a=e||100;return a/=100,0===e&&(a=0),r(t,A,[0,-a,0,-a,4*a+1,-a,0,-a,0],"Sharpness")}var w={onDoubleClick:function(t,e){t.addEventListener("dblclick",function(t){t.ctrlKey||e(t,k(t.currentTarget,t))});const a=M(T);t.addEventListener("contextmenu",function(t){t.preventDefault(),t.ctrlKey&&(a.isTriggered()?(a.reset(),e(t,k(t.currentTarget,t))):a.trigger())})},onPinch:function(t,e){let a=0;t.addEventListener("touchstart",function(t){t.preventDefault(),2===t.originalEvent.touches.length&&(a=D(t.originalEvent.touches[0].clientX,t.originalEvent.touches[0].clientY,t.originalEvent.touches[1].clientX,t.originalEvent.touches[1].clientY))}),t.addEventListener("touchmove",function(t){if(t.preventDefault(),2===t.originalEvent.touches.length){const i=t.originalEvent.touches,n=D(i[0].clientX,i[0].clientY,i[1].clientX,i[1].clientY),s=n-a;if(Math.abs(s)>0){const s={pageX:(i[0].clientX+i[1].clientX)/2,pageY:(i[0].clientY+i[1].clientY)/2};e(t,k(t.currentTarget,s),a,n)}}})},onDoubleTap:function(t,e){const a=M(L);let i=null;t.addEventListener("touchend",t=>{if(t.preventDefault(),a.isTriggered()){a.reset();const n={pageX:t.originalEvent.changedTouches[0].clientX,pageY:t.originalEvent.changedTouches[0].clientY},s=D(i.pageX,i.pageY,n.pageX,n.pageY);s<I&&e(t,k(t.currentTarget,n)),i=null}else i={pageX:t.originalEvent.changedTouches[0].clientX,pageY:t.originalEvent.changedTouches[0].clientY},a.trigger()})}};const T=500,I=50,L=250;function D(t,e,a,i){return Math.sqrt((a-t)*(a-t)+(i-e)*(i-e))}function M(t){let e=!1,a=null;return{trigger(){e=!0,i(),a=setTimeout(function(){e=!1,a=null},t)},isTriggered:()=>e,reset(){e=!1,i()}};function i(){null!==a&&(clearTimeout(a),a=null)}}function k(t,e){const a=t.getBoundingClientRect();return{left:e.pageX-a.left,top:e.pageY-a.top}}function z(t,e,a){let i;return function(){let n=this,s=arguments,r=a&&!i;clearTimeout(i),i=setTimeout(function(){i=null,a||t.apply(n,s)},e),r&&t.apply(n,s)}}a.d(e,"default",function(){return j});class j{constructor(t){this._core=t,this.pageToolsIcon=this.createIcon(),this._backdrop=null,this._page=null,this._mainImage=null,this._canvas=null,this._filters={brightness:null,contrast:null},this._originalData=null,this.maxZoom=5,this.minZoom=1,this.zoom=1,this.rotate=0,this.mirrorHorizontal=1,this.mirrorVertical=1,this.boundEscapeListener=this.escapeListener.bind(this),this.currentImageURL}handleClick(t,e,a,i){document.body.style.overflow="hidden",this._backdrop=document.createElement("div"),this._backdrop.classList.add("manipulation-fullscreen"),this._sidebar=document.createElement("div"),this._sidebar.classList.add("manipulation-sidebar"),this._mainArea=document.createElement("div"),this._mainArea.classList.add("manipulation-main-area"),this._mainArea.classList.add("dragscroll"),this._mainArea.addEventListener("mousedown",()=>{this._mainArea.classList.add("grabbing")}),this._mainArea.addEventListener("mouseup",()=>{this._mainArea.classList.remove("grabbing")}),w.onDoubleClick(this._mainArea,function(t){let e=t.ctrlKey?this.zoom-1:this.zoom+1;if(e<this.minZoom||e>this.maxZoom)return;document.getElementById("zoom-slider").value=e,this.handleZoom(t,e)}.bind(this)),this._tools=document.createElement("div"),this._tools.classList.add("manipulation-tools"),this._backdrop.appendChild(this._sidebar),this._backdrop.appendChild(this._mainArea),this._backdrop.appendChild(this._tools),this._core.parentObject.appendChild(this._backdrop),document.addEventListener("keyup",this.boundEscapeListener),this._page=e.manifest.pages[i],this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._mainArea.appendChild(this._canvas),this._initializeSidebar(),this._initializeTools(),window.resetDragscroll(),this._loadImageInMainArea(t,this._page.url)}createIcon(){const t=document.createElement("div");t.classList.add("diva-manipulation-icon");let e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("x","0px"),e.setAttribute("y","0px"),e.setAttribute("viewBox","0 0 25 25"),e.id=`${this._core.settings.selector}manipulation-icon`;let a=document.createElementNS("http://www.w3.org/2000/svg","g");a.id=`${this._core.settings.selector}manipulation-icon-glyph`,a.setAttribute("transform","matrix(1, 0, 0, 1, -11.5, -11.5)"),a.setAttribute("class","diva-pagetool-icon");let i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d","M27,21h-1v-9h-3v9h-1c-0.55,0-1,0.45-1,1v3c0,0.55,0.45,1,1,1h1h3h1c0.55,0,1-0.45,1-1v-3C28,21.45,27.55,21,27,21z M27,24h-5v-0.5h5V24z");let n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d","M35,16h-1v-4h-3v4h-1c-0.55,0-1,0.45-1,1v3c0,0.55,0.45,1,1,1h1h3h1c0.55,0,1-0.45,1-1v-3C36,16.45,35.55,16,35,16z M35,19h-5v-0.5h5V19z");let s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d","M19,26h-1V12h-3v14h-1c-0.55,0-1,0.45-1,1v3c0,0.55,0.45,1,1,1h1h3h1c0.55,0,1-0.45,1-1v-3C20,26.45,19.55,26,19,26zM19,29h-5v-0.5h5V29z");let r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("x","23"),r.setAttribute("y","27"),r.setAttribute("width","3"),r.setAttribute("height","9");let l=document.createElementNS("http://www.w3.org/2000/svg","rect");l.setAttribute("x","31"),l.setAttribute("y","22"),l.setAttribute("width","3"),l.setAttribute("height","14");let o=document.createElementNS("http://www.w3.org/2000/svg","rect");return o.setAttribute("x","15"),o.setAttribute("y","32"),o.setAttribute("width","3"),o.setAttribute("height","4"),a.appendChild(i),a.appendChild(n),a.appendChild(r),a.appendChild(s),a.appendChild(l),a.appendChild(o),e.appendChild(a),t.appendChild(e),t}escapeListener(t){27===t.keyCode&&(document.removeEventListener("keyup",this.boundEscapeListener),document.body.style.overflow="auto",this._core.parentObject.removeChild(this._backdrop))}_initializeSidebar(){let t=`${this._page.url}full/150,/0/default.jpg`,e=this._page.otherImages.map(t=>`${t.url}full/150,/0/default.jpg`),a=document.createElement("div");a.classList.add("manipulation-sidebar-primary-image");let i=document.createElement("img");i.setAttribute("src",t);let n=document.createElement("div");n.textContent=this._page.il,a.appendChild(i),a.appendChild(n),this._sidebar.appendChild(a),a.addEventListener("click",()=>{this._loadImageInMainArea.call(this,event,this._page.url)}),e.map((t,e)=>{let a=document.createElement("div");a.classList.add("manipulation-sidebar-secondary-image");let i=document.createElement("img");i.setAttribute("src",t);let n=document.createElement("div");n.textContent=this._page.otherImages[e].il,a.appendChild(i),a.appendChild(n),this._sidebar.appendChild(a),a.addEventListener("click",()=>this._loadImageInMainArea.call(this,event,this._page.otherImages[e].url))})}_initializeTools(){let t=document.createElement("button");t.innerHTML="&#10006",t.classList.add("close-button"),t.setAttribute("style","display: absolute; top: 1em; right: 1em;"),t.onclick=(()=>{document.body.style.overflow="auto",this._core.parentObject.removeChild(this._backdrop)});let e=document.createElement("h1");e.setAttribute("style","margin-bottom: 0.3em;"),e.classList.add("manipulation-tools-text"),e.innerText="Tools";let a=document.createElement("div"),i=document.createElement("input"),n=document.createTextNode("Zoom");a.classList.add("manipulation-tools-text"),i.setAttribute("type","range"),i.setAttribute("max",this.maxZoom),i.setAttribute("min",this.minZoom),i.setAttribute("value",this.zoom),i.id="zoom-slider",a.addEventListener("change",z(t=>this.handleZoom(t,t.target.value),250)),a.appendChild(i),a.appendChild(n);let s=document.createElement("div"),r=document.createElement("input"),l=document.createTextNode("Rotation");s.classList.add("manipulation-tools-text"),r.setAttribute("type","range"),r.setAttribute("max",359),r.setAttribute("min",0),r.setAttribute("value",0),s.addEventListener("input",t=>{this.handleRotate(t,t.target.value)}),s.appendChild(r),s.appendChild(l);let o=document.createElement("div"),c=document.createElement("button");c.textContent="Mirror Vertically";let u=document.createElement("button");u.textContent="Mirror Horizontally",c.addEventListener("click",t=>this.handleMirror(t,"vertical")),u.addEventListener("click",t=>this.handleMirror(t,"horizontal")),o.appendChild(c),o.appendChild(u);let p=document.createElement("div");p.setAttribute("style","height: 2em; width: 100%; margin-bottom: 1em;");let v=document.createElement("h3");v.setAttribute("style","display: inline-block; margin-right: 3em;"),v.classList.add("manipulation-tools-text"),v.innerText="Filters";let f=document.createElement("select");f.setAttribute("style","display: inline;");let E=document.createElement("option");E.innerText="Color Filters";let y=document.createElement("option");y.innerText="Threshold",f.addEventListener("change",function(){let t=document.getElementsByClassName("color-filters");if("Threshold"===this.value){for(let e=0,a=t.length;e<a;e++)t[e].style.display="none";P.style.display="block"}else{for(let e=0,a=t.length;e<a;e++)t[e].style.display="block";P.style.display="none"}}),f.appendChild(E),f.appendChild(y),p.appendChild(v),p.appendChild(f);let A=document.createElement("div");A.classList.add("color-filters");let w=document.createElement("button");w.textContent="Grayscale",w.addEventListener("click",t=>this._applyTransformationToImageData(t,d)),A.appendChild(w);let T=document.createElement("div");T.classList.add("color-filters");let I=document.createElement("input"),L=document.createTextNode("Vibrance");T.classList.add("manipulation-tools-text"),I.setAttribute("type","range"),I.setAttribute("max",100),I.setAttribute("min",-100),I.setAttribute("value",0),I.addEventListener("change",z(t=>this._applyTransformationToImageData(t,h,t.target.value),250)),T.appendChild(I),T.appendChild(L);let D=document.createElement("div");D.classList.add("color-filters");let M=document.createElement("input"),k=document.createTextNode("Brightness");D.classList.add("manipulation-tools-text"),M.setAttribute("type","range"),M.setAttribute("max",100),M.setAttribute("min",-100),M.setAttribute("value",0),M.addEventListener("change",z(t=>this._applyTransformationToImageData(t,m,t.target.value),250)),D.appendChild(M),D.appendChild(k);let j=document.createElement("div");j.classList.add("color-filters");let N=document.createElement("input"),S=document.createTextNode("Contrast");j.classList.add("manipulation-tools-text"),N.setAttribute("type","range"),N.setAttribute("max",100),N.setAttribute("min",-100),N.setAttribute("value",0),N.addEventListener("change",z(t=>this._applyTransformationToImageData(t,g,t.target.value),250)),j.appendChild(N),j.appendChild(S);let X=document.createElement("div");X.classList.add("color-filters");let Y=document.createElement("button");Y.textContent="Invert Colours",Y.addEventListener("click",t=>this._applyTransformationToImageData(t,_)),X.appendChild(Y);let R=document.createElement("div");R.classList.add("color-filters");let O=document.createElement("input"),V=document.createTextNode("Sharpness");R.classList.add("manipulation-tools-text"),O.setAttribute("type","range"),O.setAttribute("max",100),O.setAttribute("min",0),O.setAttribute("value",0),O.addEventListener("change",z(t=>this._applyTransformationToImageData(t,x,t.target.value),250)),R.appendChild(O),R.appendChild(V);let B=document.createElement("div");B.classList.add("color-filters");let H=document.createElement("input"),Z=document.createTextNode("Hue");B.classList.add("manipulation-tools-text"),H.setAttribute("type","range"),H.setAttribute("max",100),H.setAttribute("min",0),H.setAttribute("value",0),H.addEventListener("change",z(t=>this._applyTransformationToImageData(t,C,t.target.value),250)),B.appendChild(H),B.appendChild(Z);let P=document.createElement("div");P.style.display="none";let F=document.createElement("input"),$=document.createTextNode("Threshold");P.classList.add("manipulation-tools-text"),F.setAttribute("type","range"),F.setAttribute("max",255),F.setAttribute("min",64),F.setAttribute("value",0),F.addEventListener("change",z(t=>this._applyTransformationToImageData(t,b,t.target.value),250)),P.appendChild(F),P.appendChild($);let U=document.createElement("button");U.setAttribute("style","margin-top: 1em;");let q=document.createTextNode("Reset");U.appendChild(q),U.onclick=(t=>{this._loadImageInMainArea(t,this.currentImageURL)});let K=document.createElement("div");K.classList.add("manipulation-tools-text"),K.innerHTML="<h3> Filter Application Order <h3>",K.id="filter-log",this._tools.appendChild(t),this._tools.appendChild(e),this._tools.appendChild(a),this._tools.appendChild(s),this._tools.appendChild(o),this._tools.appendChild(p),this._tools.appendChild(A),this._tools.appendChild(X),this._tools.appendChild(T),this._tools.appendChild(D),this._tools.appendChild(j),this._tools.appendChild(R),this._tools.appendChild(B),this._tools.appendChild(P),this._tools.appendChild(U),this._tools.appendChild(K),this._tools.setAttribute("style","padding: 0 1em;")}_resetSliders(){for(let t=0,e=this._tools.children.length;t<e;t++){let e=this._tools.children[t].children[0];e&&"range"===e.type&&(e.value=0)}document.getElementById("filter-log").innerHTML="<h3> Filter Application Order <h3>",this.zoom=1,this.rotate=0,this.mirrorHorizontal=1,this.mirrorVertical=1,this.handleMirror(null,null),s()}_loadImageInMainArea(t,e){this.currentImageURL=e;let a=`${e}full/full/0/default.jpg`;this._mainImage=new Image,this._mainImage.crossOrigin="anonymous",this._mainImage.addEventListener("load",()=>{this._canvas.size=Math.sqrt(this._mainImage.width*this._mainImage.width+this._mainImage.height*this._mainImage.height),this._canvas.width=this._canvas.size,this._canvas.height=this._canvas.size,this._canvas.cornerX=(this._canvas.size-this._mainImage.width)/2,this._canvas.cornerY=(this._canvas.size-this._mainImage.height)/2,this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._ctx.drawImage(this._mainImage,this._canvas.cornerX,this._canvas.cornerY,this._mainImage.width,this._mainImage.height),this._originalData=this._ctx.getImageData(this._canvas.cornerX,this._canvas.cornerY,this._mainImage.width,this._mainImage.height),this._alteredData=this._originalData,this.dims={w:this._canvas.width,h:this._canvas.height},this._mainImage=null,this.centerView()}),this._mainImage.src=a,this._resetSliders()}_applyTransformationToImageData(t,e,a){let i,n=this._canvas.width,s=this._canvas.height;a&&(i=parseInt(a,10));let r=e(this._originalData,i);this._alteredData=r,this._ctx.clearRect(0,0,n,s),this._ctx.putImageData(r,this._canvas.cornerX,this._canvas.cornerY),this.handleZoom(t,this.zoom),this.handleRotate(t,this.rotate)}handleZoom(t,e){let a=.5*e+.5,i=this.dims.w,n=this.dims.h,s=document.createElement("canvas"),r=s.getContext("2d");s.width=i,s.height=n,r.putImageData(this._alteredData,this._canvas.cornerX,this._canvas.cornerY),this._canvas.width=i*a,this._canvas.height=n*a,this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._ctx.scale(a,a),this._ctx.drawImage(s,0,0),this.zoom=parseInt(e,10),this.handleRotate(t,this.rotate),this.centerView()}handleRotate(t,e){let a=this.dims.w,i=this.dims.h,n=-a/2,s=-i/2,r=document.createElement("canvas"),l=r.getContext("2d");r.width=a*(.5*this.zoom+.5),r.height=i*(.5*this.zoom+.5),l.putImageData(this._alteredData,this._canvas.cornerX,this._canvas.cornerY),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._ctx.save(),this._ctx.translate(a/2,i/2),this._ctx.rotate(e*Math.PI/180),this._ctx.drawImage(r,n,s,this._canvas.width,this._canvas.height),this._ctx.restore(),this.rotate=e}handleMirror(t,e){let a=document.getElementsByClassName("manipulation-main-area")[0].children[0];"vertical"===e?this.mirrorVertical*=-1:"horizontal"===e&&(this.mirrorHorizontal*=-1),a.setAttribute("style","transform: scale("+this.mirrorHorizontal+","+this.mirrorVertical+");")}centerView(){let t=document.getElementsByClassName("manipulation-main-area")[0],e=this._canvas.height,a=this._canvas.width,i=(e-t.clientHeight)/2,n=(a-t.clientWidth)/2;t.scrollTop=i,t.scrollLeft=n}}j.prototype.pluginName="manipulation",j.prototype.isPageTool=!0,window.Diva.ManipulationPlugin=j}});
//# sourceMappingURL=manipulation.js.map